<!DOCTYPE html>

<html>
<head>
	<meta charset="utf-8">
	<title>Flower Power</title>
	<style>
		svg {
			background: black;
			stroke: orange;


		}
	</style>
</head>
<body>
	<svg id="flower" width="800" viewbox="-50 -50 100 100">
		
	</svg>
	<input type="button" value="hacer nuevas" onclick="dibujo()">
</body>
<script>

	
	var espaiN = "http://www.w3.org/2000/svg";

	const LEAVES = 5;
	const EXTERIOR = 6;
	const INTERIOR = EXTERIOR / 3;

	var alfa = Math.PI / 2;
	var beta =  2 * Math.PI / LEAVES;

	function aleatoreo(max, min) {
		return Math.random() * (max - min) + min;
	}
	
	var aleatoreidadx = aleatoreo(40, -40);
	var aleatoreidady = aleatoreo(40, -40);
	function point(r, a) {
		var incx = aleatoreidadx;
		var incry = aleatoreidady;
		return  (incx + r * Math.cos(a)) + " " + (incry + r * Math.sin(a));
	}

	function dibujo() {

		var flower = document.querySelector("#flower");
		for (var j = 0; j < 25; j++) {
					document.addEventListener("DOMContentLoaded", function(event) {
						var shape = document.createElementNS(espaiN, "path");
						aleatoreidadx = aleatoreo(40, -40);
						aleatoreidady = aleatoreo(40, -40);
						var data = "M " + point(INTERIOR, alfa);
						for (var i = 0; i < LEAVES; i++, alfa += beta) {
							data += " C";
							data += point(EXTERIOR, alfa) + ",";
							data += point(EXTERIOR, alfa + beta) + ",";
							data += point(INTERIOR, alfa + beta);
				}
				shape.setAttribute("d", data);
				flower.appendChild(shape);
		});
		}}

	document.addEventListener("DOMContentLoaded", dibujo());
	document.addEventListener("keypress", function(event){
		dibujo()
	});
	dibujo();

			
		

</script>
</html>